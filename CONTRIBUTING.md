# Development prerequisites

You can use Python development packages provided by your distribution or
install them using `pipenv` or `pip`.  It's up to you.

Some additional packages cannot be installed through `pip` alone, though
(e.g. ShellCheck).

### Fedora

    $ sudo dnf install python3-coverage python3-enchant python3-pycodestyle \
                       python3-pylint python3-yapf make ShellCheck

### pipenv

    $ pipenv install
    $ pipenv shell

*`Pipfile` is deliberately included in .gitignore*

### pip

    $ pip3 install --user -r requirements.txt


# Targets

To run linters:

    $ make lint

To run all unit tests:

    $ make test

To run all unit tests and generate test coverage report:

    $ make coverage

To pass additional flags to pycoverage you can run script, e.g. `-m` flag lists
statements not covered by tests:

    $ ./tests/coverage-report.sh -m

To remove any files generated by running make:

    $ make clean


# Installation and packaging

Steam will detect new tool being installed after you restart the client.
As long as you don't touch .vdf files, there's no need to keep restarting
it, though.

To install/remove development version of steam-dos:

    $ make install
    $ make uninstall

To create packages:

    $ make steam-dos.tar.xz
    $ make steam-dos.zip


# Logs

All logging happens to stderr, therefore it will be merged with Steam logs.

On some distributions Steam does not print anything to terminal, in such case
look for logs in following locations:

    /tmp/dumps/${USER}_stdout.txt
    ~/.steam/error.log
